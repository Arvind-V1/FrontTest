<!DOCTYPE html>
<html lang="fr"> 
    <head>
        <link rel="stylesheet" type="text/css" href="/style.css">
        <title>TicTacTrip</title>
        <meta charset="utf-8">

    </head>
    <body>
        <h1> Bienvenue dans la page d'acceuil</h1>
        <form action="/search" method="get">
            <input type="text" name="q" class="search" placeholder="Rechercher une destination...">
            <button type="submit">Rechercher</button>
        </form>

        <script>
            import React, { useState, useEffect } from 'react';
            import axios from 'axios';

            function SearchBar() {
                const [searchValue, setSearchValue] = useState('');
                const [suggestions, setSuggestions] = useState([]);

                const handleSearchInputChange = (event) => {
                    setSearchValue(event.target.value);
            };

            useEffect(() => {
                const fetchSuggestions = async () => {
                    const response = await axios.get(`https://api.comparatrip.eu/cities/autocomplete/?q=${searchValue}`);
                    setSuggestions(response.data);
                };

                if (searchValue.length > 0) {
                    fetchSuggestions();
                }
            }, [searchValue]);

            return (
                <div>
                <input type="text" value={searchValue} onChange={handleSearchInputChange} />
                {suggestions.length > 0 && (
                    <ul>
                    {suggestions.map((suggestion) => (
                        <li key={suggestion}>{suggestion}</li>
                    ))}
                    </ul>
                )}
                </div>
            );
            }

            export default SearchBar;

        </script>
    
    </body>

</html>